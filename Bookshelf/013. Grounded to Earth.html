<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grounded to Earth</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../assets/book-styles.css">

</head>

<body>
    <div class="book-container">
        <div class="book-spine"></div>
        <div class="book-content">
            <!-- Cover Page 1 -->
            <div class="book-page cover-page active" id="page-0"
                style="width: 102%; height: 107%; display: flex; justify-content: center; align-items: center;">

                <img src="../assets/books img/Grounded-to-Earth/cover.png" alt="Cover"
                    style="max-width: 100%; max-height: 107%; object-fit: cover;">
            </div>

            <!-- Contents Page 2 -->
            <div class="book-page" id="page-contents">
                <div class="contents-page">
                    <h2>CONTENTS</h2>
                    <ul class="contents-list">
                        <li class="contents-item" data-page="2">
                            <span class="chapter-title">Focus Question</span>
                            <span class="page-number">2</span>
                        </li>
                        <li class="contents-item" data-page="3">
                            <span class="chapter-title">Zorb Wants to Play</span>
                            <span class="page-number">3</span>
                        </li>
                        <li class="contents-item" data-page="5">
                            <span class="chapter-title">Learning a Lesson</span>
                            <span class="page-number">5</span>
                        </li>
                        <li class="contents-item" data-page="7">
                            <span class="chapter-title">Zorb Meets the Kids</span>
                            <span class="page-number">7</span>
                        </li>
                        <li class="contents-item" data-page="9">
                            <span class="chapter-title">Playing Kickball</span>
                            <span class="page-number">9</span>
                        </li>
                        <li class="contents-item" data-page="13">
                            <span class="chapter-title">The Big Kick</span>
                            <span class="page-number">13</span>
                        </li>
                        <li class="contents-item" data-page="14">
                            <span class="chapter-title">Mom and Dad Reveal</span>
                            <span class="page-number">14</span>
                        </li>
                        <li class="contents-item" data-page="16">
                            <span class="chapter-title">Words to Know</span>
                            <span class="page-number">16</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Focus Question Page 3 -->
            <div class="book-page" id="page-intro" data-page="2">
                <h2>Focus Question</h2>
                <div class="page-content">
                    <p><span class="translatable-word" data-translation="Какой">What</span> <span
                            class="translatable-word" data-translation="урок">lesson</span> does <span
                            class="translatable-word" data-translation="Зорб">Zorb</span> <span
                            class="translatable-word" data-translation="учить">learn</span> in this <span
                            class="translatable-word" data-translation="история">story</span>?</p>

                    <h3>Words to Know</h3>
                    <ul>
                        <li><span class="translatable-word" data-translation="бластеры">blasters</span></li>
                        <li><span class="translatable-word" data-translation="управление">controls</span></li>
                        <li><span class="translatable-word" data-translation="кикбол">kickball</span></li>
                        <li><span class="translatable-word" data-translation="урок">lesson</span></li>
                        <li><span class="translatable-word" data-translation="космический корабль">spaceship</span></li>
                        <li><span class="translatable-word" data-translation="костюм">suit</span></li>
                    </ul>
                </div>
            </div>

            <!-- Page 4 -->
            <div class="book-page" data-page="3">
                <div class="page-content">
                    <p><span class="translatable-word" data-translation="Зорб">Zorb</span> <span
                            class="translatable-word" data-translation="хотел">wanted</span> to <span
                            class="translatable-word" data-translation="использовать">use</span> <span
                            class="translatable-word" data-translation="Землю">Earth</span> as a <span
                            class="translatable-word" data-translation="мяч">ball</span>.</p>

                    <p>"I <span class="translatable-word" data-translation="хочу">want</span> to <span
                            class="translatable-word" data-translation="играть">play</span>!" Zorb said.</p>

                    <img src="../assets/books img/Grounded-to-Earth/001.png" alt="Zorb wanting to use Earth as a ball"
                        class="page-image">
                </div>
            </div>

            <!-- Page 5 -->
            <div class="book-page">
                <div class="page-content">
                    <img src="../assets/books img/Grounded-to-Earth/002.png" alt="Zorb's mom talking to him"
                        class="page-image">

                    <p>"<span class="translatable-word" data-translation="Сделай">Take</span> a <span
                            class="translatable-word" data-translation="глубокий">deep</span> <span
                            class="translatable-word" data-translation="вдох">breath</span>.</p>

                    <p><span class="translatable-word" data-translation="Посчитай">Count</span> to <span
                            class="translatable-word" data-translation="десяти">ten</span>.</p>

                    <p><span class="translatable-word" data-translation="Игра">Playing</span> with Earth would <span
                            class="translatable-word" data-translation="навредить">hurt</span> <span
                            class="translatable-word" data-translation="людям">humans</span>," his <span
                            class="translatable-word" data-translation="мама">mom</span> said.</p>
                </div>
            </div>

            <!-- Page 6 -->
            <div class="book-page" data-page="5">
                <div class="page-content">
                    <p>Zorb <span class="translatable-word" data-translation="перепрыгнул">jumped</span> over his <span
                            class="translatable-word" data-translation="папу">dad</span>.</p>

                    <p>He <span class="translatable-word" data-translation="схватил">grabbed</span> the <span
                            class="translatable-word" data-translation="управление">controls</span> of the <span
                            class="translatable-word" data-translation="космического корабля">spaceship</span>.</p>

                    <p>"You <span class="translatable-word" data-translation="нужно">need</span> to <span
                            class="translatable-word" data-translation="выучить">learn</span> a <span
                            class="translatable-word" data-translation="урок">lesson</span>," his dad said.</p>

                    <img src="../assets/books img/Grounded-to-Earth/003.png" alt="Zorb grabbing the spaceship controls"
                        class="page-image">
                </div>
            </div>

            <!-- Page 7 -->
            <div class="book-page">
                <div class="page-content">
                    <img src="../assets/books img/Grounded-to-Earth/004.png" alt="Dad pushing the red button"
                        class="page-image">

                    <p>His dad <span class="translatable-word" data-translation="нажал">pushed</span> a <span
                            class="translatable-word" data-translation="большую">big</span> <span
                            class="translatable-word" data-translation="красную">red</span> <span
                            class="translatable-word" data-translation="кнопку">button</span>.</p>

                    <p>Zorb was <span class="translatable-word" data-translation="отправлен">sent</span> to a <span
                            class="translatable-word" data-translation="парк">park</span> on Earth.</p>

                    <p>He <span class="translatable-word" data-translation="увидел">saw</span> some <span
                            class="translatable-word" data-translation="детей">kids</span> <span
                            class="translatable-word" data-translation="играющих">playing</span> <span
                            class="translatable-word" data-translation="кикбол">kickball</span>.</p>
                </div>
            </div>

            <!-- Page 8 -->
            <div class="book-page" data-page="7">
                <div class="page-content">
                    <p>"I am Zorb, the <span class="translatable-word" data-translation="правитель">ruler</span> of
                        <span class="translatable-word" data-translation="всего">all</span>!" Zorb said.</p>

                    <p>The kids <span class="translatable-word" data-translation="остановили">stopped</span> their <span
                            class="translatable-word" data-translation="игру">game</span>.</p>

                    <img src="../assets/books img/Grounded-to-Earth/005.png" alt="Zorb announcing himself to the kids"
                        class="page-image">
                </div>
            </div>

            <!-- Page 9 -->
            <div class="book-page">
                <div class="page-content">
                    <img src="../assets/books img/Grounded-to-Earth/006.png" alt="Kids laughing at Zorb"
                        class="page-image">

                    <p>They <span class="translatable-word" data-translation="посмотрели">looked</span> at Zorb and
                        <span class="translatable-word" data-translation="начали">started</span> to <span
                            class="translatable-word" data-translation="смеяться">laugh</span>.</p>

                    <p>"You're <span class="translatable-word" data-translation="просто">just</span> a <span
                            class="translatable-word" data-translation="маленький">little</span> <span
                            class="translatable-word" data-translation="ребёнок">kid</span>," a <span
                            class="translatable-word" data-translation="мальчик">boy</span> said.</p>
                </div>
            </div>

            <!-- Page 10 -->
            <div class="book-page" data-page="9">
                <div class="page-content">
                    <p>Zorb <span class="translatable-word" data-translation="посмотрел">looked</span> at <span
                            class="translatable-word" data-translation="себя">himself</span>.</p>

                    <p>He was <span class="translatable-word" data-translation="внутри">inside</span> a <span
                            class="translatable-word" data-translation="костюм">suit</span>.</p>

                    <p>It <span class="translatable-word" data-translation="сделало">made</span> him <span
                            class="translatable-word" data-translation="выглядеть">look</span> <span
                            class="translatable-word" data-translation="точно">just</span> like a kid.</p>

                    <img src="../assets/books img/Grounded-to-Earth/007.png" alt="Zorb looking at himself in a suit"
                        class="page-image">
                </div>
            </div>

            <!-- Page 11 -->
            <div class="book-page">
                <div class="page-content">
                    <img src="../assets/books img/Grounded-to-Earth/008.png" alt="Zorb showing his blasters"
                        class="page-image">

                    <p>"I have <span class="translatable-word" data-translation="бластеры">blasters</span>!" Zorb said.
                    </p>

                    <p>The kids <span class="translatable-word" data-translation="начали">started</span> to <span
                            class="translatable-word" data-translation="играть">play</span> <span
                            class="translatable-word" data-translation="снова">again</span>.</p>
                </div>
            </div>

            <!-- Page 12 -->
            <div class="book-page">
                <div class="page-content">
                    <p>Zorb was <span class="translatable-word" data-translation="злой">mad</span>.</p>

                    <p>He <span class="translatable-word" data-translation="сделал">took</span> a deep breath and <span
                            class="translatable-word" data-translation="посчитал">counted</span> to ten.</p>

                    <p>"Can I <span class="translatable-word" data-translation="играть">play</span>?" Zorb <span
                            class="translatable-word" data-translation="спросил">asked</span>.</p>

                    <p>"<span class="translatable-word" data-translation="Конечно">Sure</span>," the boy said.</p>

                    <img src="../assets/books img/Grounded-to-Earth/009.png" alt="Zorb asking to play"
                        class="page-image">
                </div>
            </div>

            <!-- Page 13 -->
            <div class="book-page">
                <div class="page-content">
                    <img src="../assets/books img/Grounded-to-Earth/010.png" alt="Kids teaching Zorb how to play"
                        class="page-image">

                    <p>Zorb <span class="translatable-word" data-translation="не">hadn't</span> <span
                            class="translatable-word" data-translation="играл">played</span> kickball <span
                            class="translatable-word" data-translation="раньше">before</span>.</p>

                    <p>The kids <span class="translatable-word" data-translation="научили">taught</span> him.</p>

                    <p>No one <span class="translatable-word" data-translation="смеялся">made fun</span> of him.</p>
                </div>
            </div>

            <!-- Page 14 -->
            <div class="book-page" data-page="13">
                <div class="page-content">
                    <p>A boy <span class="translatable-word" data-translation="покатил">rolled</span> the <span
                            class="translatable-word" data-translation="мяч">ball</span>.</p>

                    <p>Zorb <span class="translatable-word" data-translation="ударил">kicked</span> it <span
                            class="translatable-word" data-translation="через">over</span> the <span
                            class="translatable-word" data-translation="забор">fence</span>.</p>

                    <p>The <span class="translatable-word" data-translation="команда">team</span> <span
                            class="translatable-word" data-translation="радовалась">cheered</span>.</p>

                    <img src="../assets/books img/Grounded-to-Earth/011.png" alt="Zorb kicking the ball over the fence"
                        class="page-image">
                </div>
            </div>

            <!-- Page 15 -->
            <div class="book-page" data-page="14">
                <div class="page-content">
                    <img src="../assets/books img/Grounded-to-Earth/012.png" alt="Zorb seeing his parents watching"
                        class="page-image">

                    <p>Zorb <span class="translatable-word" data-translation="увидел">saw</span> <span
                            class="translatable-word" data-translation="двух">two</span> <span class="translatable-word"
                            data-translation="людей">people</span> <span class="translatable-word"
                            data-translation="наблюдающих">watching</span> the game.</p>

                    <p>"Did you <span class="translatable-word" data-translation="выучить">learn</span> your <span
                            class="translatable-word" data-translation="урок">lesson</span>?" the <span
                            class="translatable-word" data-translation="мужчина">man</span> asked.</p>

                    <p>"Dad, Mom, is that <span class="translatable-word" data-translation="вы">you</span>?" Zorb asked.
                    </p>
                </div>
            </div>

            <!-- Page 16 -->
            <div class="book-page">
                <div class="page-content">
                    <p>"<span class="translatable-word" data-translation="Да">Yes</span>," his dad said.</p>

                    <p>"Do you <span class="translatable-word" data-translation="всё ещё">still</span> <span
                            class="translatable-word" data-translation="хочешь">want</span> to use Earth as a ball?" his
                        mom asked.</p>

                    <p>"<span class="translatable-word" data-translation="Нет">No</span>. I <span
                            class="translatable-word" data-translation="просто">just</span> want to <span
                            class="translatable-word" data-translation="играть">play</span> with my <span
                            class="translatable-word" data-translation="новыми">new</span> <span
                            class="translatable-word" data-translation="друзьями">friends</span>!" Zorb said.</p>

                    <img src="../assets/books img/Grounded-to-Earth/013.png" alt="Zorb with his new friends and parents"
                        class="page-image">
                </div>
            </div>

            <!-- Glossary Page 17 -->
            <div class="book-page" data-page="16">
                <h2>Words to Know</h2>
                <div class="page-content">
                    <p><strong><span class="translatable-word" data-translation="бластеры">blasters</span></strong>
                        (n.)<br>
                        <span class="translatable-word" data-translation="вымышленное">fictional</span> <span
                            class="translatable-word" data-translation="оружие">weapons</span> that <span
                            class="translatable-word" data-translation="стреляют">shoot</span> <span
                            class="translatable-word" data-translation="лучами">beams</span> of <span
                            class="translatable-word" data-translation="энергии">energy</span>
                    </p>

                    <p><strong><span class="translatable-word" data-translation="управление">controls</span></strong>
                        (n.)<br>
                        <span class="translatable-word" data-translation="устройства">devices</span> used to <span
                            class="translatable-word" data-translation="управлять">operate</span> a <span
                            class="translatable-word" data-translation="машиной">machine</span> such as a vehicle,
                        airplane, or television
                    </p>

                    <p><strong><span class="translatable-word" data-translation="кикбол">kickball</span></strong>
                        (n.)<br>
                        a <span class="translatable-word" data-translation="игра">game</span> <span
                            class="translatable-word" data-translation="похожая">similar</span> to <span
                            class="translatable-word" data-translation="бейсболу">baseball</span> in which a <span
                            class="translatable-word" data-translation="большой">large</span> <span
                            class="translatable-word" data-translation="резиновый">rubber</span> <span
                            class="translatable-word" data-translation="мяч">ball</span> is <span
                            class="translatable-word" data-translation="пинается">kicked</span></p>

                    <p><strong><span class="translatable-word" data-translation="урок">lesson</span></strong> (n.)<br>
                        an <span class="translatable-word" data-translation="опыт">experience</span> that <span
                            class="translatable-word" data-translation="учит">teaches</span> something <span
                            class="translatable-word" data-translation="полезное">useful</span> or <span
                            class="translatable-word" data-translation="ценное">valuable</span></p>

                    <p><strong><span class="translatable-word"
                                data-translation="космический корабль">spaceship</span></strong> (n.)<br>
                        a <span class="translatable-word" data-translation="транспортное средство">vehicle</span> used
                        for <span class="translatable-word" data-translation="путешествия">traveling</span> in <span
                            class="translatable-word" data-translation="космосе">space</span></p>

                    <p><strong><span class="translatable-word" data-translation="костюм">suit</span></strong> (n.)<br>
                        a <span class="translatable-word" data-translation="набор">set</span> of <span
                            class="translatable-word" data-translation="одежды">clothes</span> or <span
                            class="translatable-word" data-translation="покрытий">coverings</span> used or worn for a
                        <span class="translatable-word" data-translation="конкретной">specific</span> <span
                            class="translatable-word" data-translation="цели">purpose</span></p>
                </div>
            </div>

        </div>
    </div>

    <!-- Navigation -->
    <div class="book-navigation">
        <button class="nav-button" id="prevBtn" onclick="previousPage()">← Prev</button>
        <span class="page-indicator" id="pageIndicator">Page 1 of 17</span>
        <button class="nav-button" id="nextBtn" onclick="nextPage()">Next →</button>
    </div>


    <script>
        let currentPage = 0;
        const pages = document.querySelectorAll('.book-page');
        const totalPages = pages.length;

        function showPage(pageIndex) {
            pages.forEach(page => page.classList.remove('active'));
            pages[pageIndex].classList.add('active');
            document.getElementById('pageIndicator').textContent =
                `Page ${pageIndex + 1} of ${totalPages}`;
            document.getElementById('prevBtn').disabled = pageIndex === 0;
            document.getElementById('nextBtn').disabled = pageIndex === totalPages - 1;

            window.scrollTo(0, 0);
        }

        showPage(0);

        function nextPage() {
            if (currentPage < totalPages - 1) {
                currentPage++;
                showPage(currentPage);
            }
        }

        function previousPage() {
            if (currentPage > 0) {
                currentPage--;
                showPage(currentPage);
            }
        }

        function goToPage(pageIndex) {
            if (pageIndex >= 0 && pageIndex < totalPages) {
                currentPage = pageIndex;
                showPage(currentPage);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function (e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextPage();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                previousPage();
            }
        });

        // Contents clicks
        document.querySelectorAll('.contents-item').forEach(item => {
            item.addEventListener('click', () => {
                const pageIndex = parseInt(item.getAttribute('data-page'));
                goToPage(pageIndex);
            });
        });

        // Initialize
        showPage(0);
    </script>

    <script>
        /** Script for showing word translations on hover */
        class TranslationSystem {
            constructor(options = {}) {
                this.options = {
                    tooltipClass: 'translation-tooltip',
                    wordClass: 'translatable-word',
                    hoverClass: 'word-hover',
                    dataAttribute: 'data-translation',
                    animationDuration: 300,
                    ...options
                };

                this.init();
            }

            init() {
                this.createStyles();
                this.initTranslatableWords();
                this.addEventListeners();
            }

            createStyles() {
                if (document.getElementById('translation-system-styles')) {
                    return;
                }

                const style = document.createElement('style');
                style.id = 'translation-system-styles';
                style.textContent = ``;

                document.head.appendChild(style);
            }

            initTranslatableWords() {
                const words = document.querySelectorAll(`[${this.options.dataAttribute}]`);

                words.forEach(word => {
                    if (!word.classList.contains(this.options.wordClass)) {
                        word.classList.add(this.options.wordClass);
                    }

                    this.createTooltip(word);
                });
            }

            createTooltip(wordElement) {
                if (wordElement.querySelector(`.${this.options.tooltipClass}`)) {
                    return;
                }

                const translation = wordElement.getAttribute(this.options.dataAttribute);
                if (!translation) {
                    return;
                }

                const tooltip = document.createElement('div');
                tooltip.className = this.options.tooltipClass;
                tooltip.textContent = translation;

                wordElement.appendChild(tooltip);
            }

            addEventListeners() {
                if (this.isMobile()) {
                    document.addEventListener('click', (e) => {
                        const clickedWord = e.target.closest(`.${this.options.wordClass}`);

                        if (clickedWord) {
                            e.preventDefault();
                            this.toggleMobileTooltip(clickedWord);
                        } else {
                            this.hideAllMobileTooltips();
                        }
                    });
                }

                this.observeChanges();
            }

            toggleMobileTooltip(wordElement) {
                const tooltip = wordElement.querySelector(`.${this.options.tooltipClass}`);
                if (!tooltip) return;

                this.hideAllMobileTooltips();

                tooltip.style.opacity = '1';
                tooltip.style.visibility = 'visible';
                tooltip.classList.add('mobile-active');

                setTimeout(() => {
                    if (tooltip.classList.contains('mobile-active')) {
                        tooltip.style.opacity = '0';
                        tooltip.style.visibility = 'hidden';
                        tooltip.classList.remove('mobile-active');
                    }
                }, 3000);
            }

            hideAllMobileTooltips() {
                const activeTooltips = document.querySelectorAll(`.${this.options.tooltipClass}.mobile-active`);
                activeTooltips.forEach(tooltip => {
                    tooltip.style.opacity = '0';
                    tooltip.style.visibility = 'hidden';
                    tooltip.classList.remove('mobile-active');
                });
            }

            isMobile() {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                    window.innerWidth <= 768;
            }

            observeChanges() {
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        mutation.addedNodes.forEach((node) => {
                            if (node.nodeType === Node.ELEMENT_NODE) {
                                const newWords = node.querySelectorAll(`[${this.options.dataAttribute}]`);
                                newWords.forEach(word => {
                                    if (!word.classList.contains(this.options.wordClass)) {
                                        word.classList.add(this.options.wordClass);
                                        this.createTooltip(word);
                                    }
                                });
                            }
                        });
                    });
                });

                observer.observe(document.body, {
                    childList: true,
                    subtree: true
                });
            }
        }

        // Auto-initialize on page load
        document.addEventListener('DOMContentLoaded', function () {
            if (document.querySelector('[data-translation]')) {
                window.translationSystem = new TranslationSystem();
                console.log('Translation system initialized automatically');
            }
        });
    </script>

</body>

</html>